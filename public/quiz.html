<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Math Quiz â€“ ClayRon</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body{font-family:Montserrat,sans-serif;background:#eef7ff;display:flex;justify-content:center;align-items:center;height:100vh;}
    #card{width:100%;max-width:400px;padding:2rem;background:#fff;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.1);}
    .btn-answer{width:100%;margin-bottom:.5rem;text-align:left;}
    #timer{height:8px;background:#ddd;border-radius:4px;overflow:hidden;margin:1rem 0;}
    #bar{height:100%;background:#0055aa;width:100%;}
  </style>
</head>
<body>

  <div id="card">
    <h3 class="text-center">Quiz: Somma</h3>
    <div id="question" class="mt-3"></div>
    <div id="answers" class="mt-2"></div>
    <div id="timer"><div id="bar"></div></div>
    <button id="next" class="btn btn-primary btn-block" disabled>Prossima</button>
  </div>

<script>
(function(){
  let questions=[],idx=0,score=0,t, time=10;
  function gen(){
    const a=1+Math.floor(Math.random()*10), b=1+Math.floor(Math.random()*10);
    let opts=[a+b];
    while(opts.length<4){
      const x=2+Math.floor(Math.random()*20);
      if(!opts.includes(x)) opts.push(x);
    }
    opts.sort(()=>Math.random()-.5);
    return {q:`${a} + ${b} = ?`,opts,ans:a+b};
  }
  for(let i=0;i<5;i++) questions.push(gen());
  function render(){
    clearInterval(t); time=10; document.getElementById('bar').style.width='100%';
    document.getElementById('next').disabled=true;
    const o=questions[idx];
    document.getElementById('question').innerText=o.q;
    const aDiv=document.getElementById('answers'); aDiv.innerHTML='';
    o.opts.forEach(x=>{
      const b=document.createElement('button');
      b.className='btn btn-outline-primary btn-answer';
      b.innerText=x; b.onclick=()=>{
        clearInterval(t);
        if(x===o.ans){ b.classList.replace('btn-outline-primary','btn-success'); score++; }
        else b.classList.replace('btn-outline-primary','btn-danger');
        Array.from(aDiv.children).forEach(y=>y.disabled=true);
        document.getElementById('next').disabled=false;
      };
      aDiv.appendChild(b);
    });
    t=setInterval(()=>{
      time--; document.getElementById('bar').style.width=`${time*10}%`;
      if(time<=0){ clearInterval(t); Array.from(aDiv.children).forEach(y=>y.disabled=true); document.getElementById('next').disabled=false; }
    },1000);
  }
  document.getElementById('next').onclick=()=>{
    idx++;
    if(idx<questions.length) render();
    else alert(`Quiz finito! Punteggio: ${score}/${questions.length}`);
  };
  render();
})();
</script>

</body>
</html>
